Prezentarea context_processors


Context processors sunt functii care trimit automat date catre toate sabloanele (templates) din proiect. Astfel, poti avea acces la anumite informatii globale (ex: lista angajatilor, informatii despre utilizator etc.) fara sa le trimiti manual din fiecare view.

Scopul exemplului: Sa afisam lista tuturor angajatilor in bara de navigare (navbar), fara sa trimitem lista din fiecare view.

1. In fisierul context_processors.py din proiectul Django, defineste o functie care returneaza un dictionar cu toti employee.
   Exemplu:
   from .models import Employee
   def employee_context(request):
       return {'employees': Employee.objects.all()}

2. In fisierul settings.py, adauga functia in lista context_processors din variabila TEMPLATES:
   TEMPLATES = [
       {
           'BACKEND': 'django.template.backends.django.DjangoTemplates',
           'DIRS': [],
           'APP_DIRS': True,
           'OPTIONS': {
               'context_processors': [
                   'django.template.context_processors.debug',
                   'django.template.context_processors.request',
                   'django.contrib.auth.context_processors.auth',
                   'django.contrib.messages.context_processors.messages',
                   'numele_aplicatiei.context_processors.employee_context',
               ],
           },
       },
   ]

3. In fisierul navbar.html, creeaza un dropdown care afiseaza toti angajatii:
   <ul class="dropdown-menu">
       {% for employee in employees %}
           <li><a href="#">{{ employee.name }}</a></li>
       {% endfor %}
   </ul>
