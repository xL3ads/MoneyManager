LOGIN IN DJANGO

Pasul 1: Configurarea URL-urilor

In fisierul urls.py din directorul principal djangoProject, se adauga o linie care include rutele implicite pentru autentificare furnizate de Django. Aceste rute includ login, logout, si altele.

Pasul 2: Verificarea caii catre pagina de login

Clasa LoginView din aplicatia auth a lui Django defineste calea implicita catre pagina de login. Aceasta este accesibila prin URL-ul /accounts/login/ daca nu este specificata altfel.

Pasul 3: Crearea paginii de login

In directorul TEMPLATES se creeaza un subdirector numit registration. In acest folder se adauga un fisier numit login.html. Acesta contine codul HTML si template-uri Django pentru formularul de login. Este important sa aiba campurile pentru username si password, precum si un buton de trimitere.

Pasul 4: Adaugarea linkului de login in bara de navigare

In fisierul HTML al barei de navigare (de exemplu navbar.html), se adauga un link catre pagina de login. Linkul trebuie sa conduca catre ruta definita de Django pentru login. Daca se foloseste ruta implicita, aceasta este {% url 'login' %}.

Pasul 5: Functionarea autentificarii

Cand un utilizator apasa pe butonul de login, este redirectionat catre pagina de login unde poate introduce datele de autentificare. Daca acestea sunt corecte, utilizatorul este autentificat si redirectat catre pagina dorita.


Customizarea formularului de login

Se poate crea o clasa personalizata de formular pentru login, derivata din AuthenticationForm.
In aceasta clasa se poate modifica metoda init pentru a adauga clase CSS si atribute personalizate pentru campurile
username si password. Aceasta abordare permite personalizarea aspectului si comportamentului formularului fara a modifica codul standard Django.


Adaugarea unei rute personalizate pentru login

In urls.py din djangoProject se poate adauga o ruta specifica pentru login care foloseste formularul personalizat. Exemplu:

path("login/", LoginView.as_view(form_class=AuthenticationNewForm), name="login")

Aceasta linie face urmatoarele:

- "login/" este calea URL accesibila in browser.

- LoginView.as_view(...) este clasa Django care afiseaza pagina de login si gestioneaza autentificarea.

- form_class=AuthenticationNewForm indica faptul ca se foloseste un formular personalizat.

- name="login" permite referirea acestei rute prin nume in sabloane sau cod.